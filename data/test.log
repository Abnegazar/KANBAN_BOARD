/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
drop table if exists Board CASCADE 
drop table if exists Card CASCADE 
drop table if exists Card_utilisateur CASCADE 
drop table if exists Section CASCADE 
drop table if exists Section_Board CASCADE 
drop table if exists utilisateur CASCADE 
create table Board (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table Card (card_type varchar(31) not null, id bigint generated by default as identity (start with 1), allocated_time bigint, created_date timestamp not null, dead_line timestamp not null, libelle varchar(255), lieu varchar(255), note varchar(255), url varchar(255), git_hash varchar(255), url_issue varchar(255), creator_id bigint, section_id bigint, primary key (id))
create table Card_utilisateur (taches_id bigint not null, inCharge_id bigint not null)
create table Section (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
create table Section_Board (sections_id bigint not null, boards_id bigint not null)
create table utilisateur (id bigint generated by default as identity (start with 1), first_name varchar(100), last_name varchar(55), primary key (id))
alter table Card add constraint FKk9rhxuj7hqoypayg3rxtwnwt2 foreign key (creator_id) references utilisateur
alter table Card add constraint FK9k87t5kbwadcdsluy342pycjo foreign key (section_id) references Section
alter table Card_utilisateur add constraint FK5wgxai2nel6drqdkljv0xemy5 foreign key (inCharge_id) references utilisateur
alter table Card_utilisateur add constraint FK8xm36vjeulwj45v7wg8koc0ws foreign key (taches_id) references Card
alter table Section_Board add constraint FKlweqayjk6n9bm4i829qi127sf foreign key (boards_id) references Board
alter table Section_Board add constraint FKcaqilnckkmp0njtw4afmicocj foreign key (sections_id) references Section
INSERT INTO CARD VALUES('classic_card',1,60,'2022-03-08 03:27:19.901000','2022-03-10 15:27:19.903000','Ajouter un bouton submit','Istic Beaulieu','Description','http://localhost:5432/carte/0',NULL,NULL,NULL,NULL)
INSERT INTO CARD VALUES('classic_card',2,3,'2022-03-09 15:27:20.010000','2022-03-09 18:27:20.010000','Corriger le code couleur de la fen\u00eatre de lancement','Istic Beaulieu','Description','http://localhost:5432/carte/1',NULL,NULL,NULL,NULL)
INSERT INTO CARD VALUES('git_card',3,26,'2022-03-12 15:27:20.014000','2022-03-13 17:27:20.015000','G\u00e9rer le responsive sur le landing page','Istic Beaulieu','Description','http://localhost:5432/carte/2','baae61804e65cc73a7201a7252750c76066a30','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',NULL,NULL)
INSERT INTO CARD VALUES('git_card',4,31,'2022-03-08 10:27:20.018000','2022-03-09 17:27:20.018000','Applique le patter Observer aux gestionnaire de fichiers','Istic Beaulieu','Description','http://localhost:5432/carte/3','1f7a7a472abf3dd9643fd615f6da379c4acb3e3a ','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',NULL,NULL)
INSERT INTO CARD VALUES('git_card',5,18,'2022-03-05 15:27:20.021000','2022-03-06 09:27:20.021000','Ajouter un captcha au formulaire de connexion','Istic Beaulieu','Description','http://localhost:5432/carte/4','83baae61804e65cc73a7201a7252750c76066a30 ','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',NULL,NULL)
INSERT INTO CARD VALUES('git_card',6,24,'2022-03-04 15:27:20.025000','2022-03-05 15:27:20.025000','G\u00e9rer la r\u00e9initialisation des mots de passe oubli\u00e9s','Istic Beaulieu','Description','http://localhost:5432/carte/5','7a7a472abf3dd9643fd615f6da379c4acb3e3a','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',NULL,NULL)
INSERT INTO SECTION VALUES(1,'PAUSED')
INSERT INTO SECTION VALUES(2,'PENDING')
INSERT INTO SECTION VALUES(3,'DONE')
INSERT INTO BOARD VALUES(1,'TABLEAU 1')
INSERT INTO BOARD VALUES(2,'TABLEAU 2')
INSERT INTO UTILISATEUR VALUES(1,'John','DOE')
INSERT INTO UTILISATEUR VALUES(2,'Blake','JOHN')
INSERT INTO UTILISATEUR VALUES(3,'Luke','LUCKY')
DELETE FROM CARD WHERE ID=1
INSERT INTO CARD VALUES('classic_card',1,60,'2022-03-08 03:27:19.901000','2022-03-10 15:27:19.903000','Ajouter un bouton submit','Istic Beaulieu','Description','http://localhost:5432/carte/0',NULL,NULL,1,2)
DELETE FROM CARD WHERE ID=2
INSERT INTO CARD VALUES('classic_card',2,3,'2022-03-09 15:27:20.010000','2022-03-09 18:27:20.010000','Corriger le code couleur de la fen\u00eatre de lancement','Istic Beaulieu','Description','http://localhost:5432/carte/1',NULL,NULL,1,1)
DELETE FROM CARD WHERE ID=3
INSERT INTO CARD VALUES('git_card',3,26,'2022-03-12 15:27:20.014000','2022-03-13 17:27:20.015000','G\u00e9rer le responsive sur le landing page','Istic Beaulieu','Description','http://localhost:5432/carte/2','baae61804e65cc73a7201a7252750c76066a30','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',1,1)
DELETE FROM CARD WHERE ID=4
INSERT INTO CARD VALUES('git_card',4,31,'2022-03-08 10:27:20.018000','2022-03-09 17:27:20.018000','Applique le patter Observer aux gestionnaire de fichiers','Istic Beaulieu','Description','http://localhost:5432/carte/3','1f7a7a472abf3dd9643fd615f6da379c4acb3e3a ','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',1,2)
DELETE FROM CARD WHERE ID=5
INSERT INTO CARD VALUES('git_card',5,18,'2022-03-05 15:27:20.021000','2022-03-06 09:27:20.021000','Ajouter un captcha au formulaire de connexion','Istic Beaulieu','Description','http://localhost:5432/carte/4','83baae61804e65cc73a7201a7252750c76066a30 ','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',1,3)
DELETE FROM CARD WHERE ID=6
INSERT INTO CARD VALUES('git_card',6,24,'2022-03-04 15:27:20.025000','2022-03-05 15:27:20.025000','G\u00e9rer la r\u00e9initialisation des mots de passe oubli\u00e9s','Istic Beaulieu','Description','http://localhost:5432/carte/5','7a7a472abf3dd9643fd615f6da379c4acb3e3a','https://gitlab.istic.univ-rennes1.fr/adjedjemel/stardp/-/issues',1,3)
INSERT INTO CARD_UTILISATEUR VALUES(1,2)
INSERT INTO CARD_UTILISATEUR VALUES(2,2)
INSERT INTO CARD_UTILISATEUR VALUES(3,2)
INSERT INTO CARD_UTILISATEUR VALUES(4,2)
INSERT INTO CARD_UTILISATEUR VALUES(5,3)
INSERT INTO CARD_UTILISATEUR VALUES(6,3)
INSERT INTO SECTION_BOARD VALUES(1,1)
INSERT INTO SECTION_BOARD VALUES(1,2)
INSERT INTO SECTION_BOARD VALUES(2,1)
INSERT INTO SECTION_BOARD VALUES(2,2)
INSERT INTO SECTION_BOARD VALUES(3,1)
INSERT INTO SECTION_BOARD VALUES(3,2)
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table if exists Board CASCADE 
drop table if exists Card CASCADE 
drop table if exists Card_utilisateur CASCADE 
drop table if exists Section CASCADE 
drop table if exists Section_Board CASCADE 
drop table if exists utilisateur CASCADE 
create table Board (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table Card (card_type varchar(31) not null, id bigint generated by default as identity (start with 1), allocated_time bigint, created_date timestamp not null, dead_line timestamp not null, libelle varchar(255), lieu varchar(255), note varchar(255), url varchar(255), git_hash varchar(255), url_issue varchar(255), creator_id bigint, section_id bigint, primary key (id))
create table Card_utilisateur (taches_id bigint not null, inCharge_id bigint not null)
create table Section (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
create table Section_Board (sections_id bigint not null, boards_id bigint not null)
create table utilisateur (id bigint generated by default as identity (start with 1), first_name varchar(100), last_name varchar(55), primary key (id))
alter table Card add constraint FKk9rhxuj7hqoypayg3rxtwnwt2 foreign key (creator_id) references utilisateur
alter table Card add constraint FK9k87t5kbwadcdsluy342pycjo foreign key (section_id) references Section
alter table Card_utilisateur add constraint FK5wgxai2nel6drqdkljv0xemy5 foreign key (inCharge_id) references utilisateur
alter table Card_utilisateur add constraint FK8xm36vjeulwj45v7wg8koc0ws foreign key (taches_id) references Card
alter table Section_Board add constraint FKlweqayjk6n9bm4i829qi127sf foreign key (boards_id) references Board
alter table Section_Board add constraint FKcaqilnckkmp0njtw4afmicocj foreign key (sections_id) references Section

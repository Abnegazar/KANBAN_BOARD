/*C25*/SET SCHEMA PUBLIC
drop table if exists Board CASCADE 
drop table if exists Card CASCADE 
drop table if exists Card_utilisateur CASCADE 
drop table if exists Section CASCADE 
drop table if exists Section_Board CASCADE 
drop table if exists utilisateur CASCADE 
create table Board (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table Card (card_type varchar(31) not null, id bigint generated by default as identity (start with 1), allocated_time bigint, created_date timestamp not null, dead_line timestamp not null, libelle varchar(255), lieu varchar(255), note varchar(255), url varchar(255), git_hash varchar(255), url_issue varchar(255), creator_id bigint, section_id bigint, primary key (id))
create table Card_utilisateur (taches_id bigint not null, inCharge_id bigint not null)
create table Section (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
create table Section_Board (sections_id bigint not null, boards_id bigint not null)
create table utilisateur (id bigint generated by default as identity (start with 1), email varchar(100), first_name varchar(100), last_name varchar(55), password varchar(100), primary key (id))
alter table Card add constraint FKk9rhxuj7hqoypayg3rxtwnwt2 foreign key (creator_id) references utilisateur
alter table Card add constraint FK9k87t5kbwadcdsluy342pycjo foreign key (section_id) references Section
alter table Card_utilisateur add constraint FK5wgxai2nel6drqdkljv0xemy5 foreign key (inCharge_id) references utilisateur
alter table Card_utilisateur add constraint FK8xm36vjeulwj45v7wg8koc0ws foreign key (taches_id) references Card
alter table Section_Board add constraint FKlweqayjk6n9bm4i829qi127sf foreign key (boards_id) references Board
alter table Section_Board add constraint FKcaqilnckkmp0njtw4afmicocj foreign key (sections_id) references Section
/*C35*/SET SCHEMA PUBLIC
INSERT INTO UTILISATEUR VALUES(1,'cyriaquearnauld@gmail.com','arnauld','Djedjemel','arnauldcyriaque')
COMMIT
